<% if not @roles.empty? %>

<table class="content_tbl" id="roles_tbl">
  <tr>
    <th rowspan="2">Name</th>
    <th colspan="4">Projects</th>
    <th colspan="2">Project Members</th>
    <th colspan="6">Tickets</th>
    <th colspan="4">Tags</th>
  </tr>
  <tr>
    <th>Create</th>
    <th>Read</th>
    <th>Update</th>
    <th>Delete</th>

    <th>Add</th>
    <th>Remove</th>
    
    <th>Create</th>
    <th>Read</th>
    <th>Update</th>
    <th>Delete</th>
    <th>Assign</th>
    <th>Comment</th>
    
    <th>Create</th>
    <th>Read</th>
    <th>Update</th>
    <th>Delete</th>
  </tr>

<% @roles.each do |role| %>
  <tr class="<%= cycle("", "even")%>">
    <td><%= role.name %><br /><%= link_to 'Edit', edit_role_path(role), :remote => true %> | <%= link_to 'Del', role, :confirm => 'Are you sure?', :method => :delete, :remote => true %></td>
    <td class="<%= role.project_create ? "green" : "critical" %>"><%= role.project_create %></td>
    <td class="<%= role.project_read ? "green" : "critical" %>"><%= role.project_read %></td>
    <td class="<%= role.project_update ? "green" : "critical" %>"><%= role.project_update %></td>
    <td class="<%= role.project_delete ? "green" : "critical" %>"><%= role.project_delete %></td>
    <td class="<%= role.member_add ? "green" : "critical" %>"><%= role.member_add %></td>
    <td class="<%= role.member_remove ? "green" : "critical" %>"><%= role.member_remove %></td>
    <td class="<%= role.ticket_create ? "green" : "critical" %>"><%= role.ticket_create %></td>
    <td class="<%= role.ticket_read ? "green" : "critical" %>"><%= role.ticket_read %></td>
    <td class="<%= role.ticket_update ? "green" : "critical" %>"><%= role.ticket_update %></td>
    <td class="<%= role.ticket_delete ? "green" : "critical" %>"><%= role.ticket_delete %></td>
    <td class="<%= role.ticket_assign ? "green" : "critical" %>"><%= role.ticket_assign %></td>
    <td class="<%= role.ticket_comment ? "green" : "critical" %>"><%= role.ticket_comment %></td>
    <td class="<%= role.tag_create ? "green" : "critical" %>"><%= role.tag_create %></td>
    <td class="<%= role.tag_read ? "green" : "critical" %>"><%= role.tag_read %></td>
    <td class="<%= role.tag_update ? "green" : "critical" %>"><%= role.tag_update %></td>
    <td class="<%= role.tag_delete ? "green" : "critical" %>"><%= role.tag_delete %></td>
  </tr>
<% end %>
</table>

<% else %>

<p class="content_error">There are no roles yet. Create one <%= link_to "here", new_role_path, :remote => true %>.</p>

<% end %>
